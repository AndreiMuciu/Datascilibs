repo_full_name,issue_id,number,title,body,user_login,user_id,state,locked,comments_count,created_at,updated_at,closed_at,labels,reactions_total,reactions_plus1,reactions_minus1,reactions_laugh,reactions_hooray,reactions_confused,reactions_heart
sinaptik-ai/pandas-ai,3048274810,1730,Why not make `pandas-ai` a MCP?,"### üöÄ The feature

Make pandas-ai a MCP! Carry on!

### Motivation, pitch

By now cannot find out any MCP of pandas data dealing! 

### Alternatives

_No response_

### Additional context

_No response_",forhonourlx,16576219,open,False,0,2025-05-08T08:48:48+00:00,2025-05-08T08:48:48+00:00,,,0,0,0,0,0,0,0
sinaptik-ai/pandas-ai,3045013084,1729,Sqlglot parse error due to LLM Code Response (tested with GPT-4),"### System Info

PandasAI Version: 3.0.0b16

### üêõ Describe the bug

<h2>Main Problem</h2>
I was trying to get DataFrame response from LLM using openai model gpt4, but was facing following errors:

```
sqlglot.errors.ParseError: Invalid expression / Unexpected token. Line 2, Col: 17.
```

After I traced the code through verbose mode as well as printing extracted codes after every step, I observed that SQL query is being truncated as following:

<b>LLM Generated code:</b>

```
sql_query = """"""
SELECT `COL 1`, SUM(`COL 2`) AS `COL 2 Name`
FROM table_adocmud
GROUP BY `COL 1`
ORDER BY `COL 2 Name` DESC
""""""
```

<b>Parsed Code: </b>

```
SELECT `COL 1`, SUM(`COL 2`) AS `COL 2 Name`
FROM table_adocmud
GROUP B
```

This issue was not for all prompts but for few prompts which was one of the reasons for reduced accuracy.


<h2>Solution</h2>

Main issue that I found was sqlglot was unable to parse the SQL query with columns names written within ` (cross quotes) quotes, and temporary solution that I found was to replace ` (cross quotes) quotes with "" (double quotes).

<b>1. In file path: pandasai/query_builders/sql_parser.py added following code at line number 77<b>

```
sql_query = re.sub('`', '""', sql_query)
```

<b>2. In file path: pandasai/core/code_execution/code_executor.py added following code before line number 29<b>

```
code = re.sub('`', '""', code)
```

and after these changes things were running smoothly, if you guys have better solution please share here.

Thankyou",SumithRaj05,121344533,open,False,0,2025-05-07T07:41:14+00:00,2025-05-07T10:24:42+00:00,,,0,0,0,0,0,0,0
